# 计算机网络体系结构
## OSI模型
![[OSI模型.png]]
### TCP/IP模型
#### 三次握手
1. 第一次握手：客户端将标志位SYN置为1，随机产生一个值seq=J，并将该数据包发送给服务器端，客户端进入SYN_SENT状态，等待服务器端确认。
2. 第二次握手：服务器端收到数据包后由标志位SYN=1知道客户端请求建立连接，服务器端将标志位SYN和ACK都置为1，ack=J+1，随机产生一个值seq=K，并将该数据包发送给客户端以确认连接请求，服务器端进入SYN_RCVD状态。
3. 第三次握手：客户端收到确认后，检查ack是否为J+1，ACK是否为1，如果正确则将标志位ACK置为1，ack=K+1，并将该数据包发送给服务器端，服务器端检查ack是否为K+1，ACK是否为1，如果正确则连接建立成功，客户端和服务器端进入ESTABLISHED状态，完成三次握手，随后客户端与服务器端之间可以开始传输数据了。
#### 四次挥手
### 一次完整的http请求过程
## 草稿
1. 几种线程池的区别？
2. NIO的原理
4. select poll epoll的区别
5. 每入一次内核态 上下文切换2次
6. UDP 应用自己来实现可靠型传输 UDT 
7. Protobuf
## 最后一节课
1. 同步与异步，阻塞与非阻塞
2. 中断：暂停 先处理中断程序
# NIO
## Selector Channel Buffer
## epoll
epoll是Linux中最高效的IO多路复用机制，可以同时监控多个描述符，当某个描述符就绪(读或写就绪)，则立刻通知相应程序进行读或写操作
# IO多路复用
## select/poll/epoll
### select
阻塞函数：将用户态的FD 拷贝到内核态
缺点：
1.  数量限制1024
2. fdset不可用
3. 拷贝时需要内核态到用户态的切换
4. 每次都需要重遍历
### poll
与select逻辑类似，但是没有数量限制

